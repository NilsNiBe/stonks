(this.webpackJsonpstonks=this.webpackJsonpstonks||[]).push([[0],{119:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),s=n.n(c),i=n(91),o=n(18),u=n.n(o),l=n(35),h=n(22),j=(n(118),n(176)),b=n(163),p=(n(119),n(89)),d=n(178),m=n(165),f=n(166),x=n(17),O=n(177),g=n(90),y=n(75),v=n(180),w="https://corsproxy.cloudno.de",S={chart:"".concat(w,"/https://query2.finance.yahoo.com/v8/finance/chart"),search:"".concat(w,"/https://query2.finance.yahoo.com/v1/finance/search"),quoteSummary:"".concat(w,"/https://query2.finance.yahoo.com/v10/finance/quoteSummary")};function k(e,t,n,a){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(u.a.mark((function e(t,n,a,r){var c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S.chart,"/").concat(t,"?region=US&lang=en-US")+"&interval=".concat(n,"&period1=").concat(a,"&period2=").concat(r),{headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(!(c=e.sent).ok){e.next=8;break}return e.next=6,c.json();case 6:return s=e.sent,e.abrupt("return",s);case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S.search,"?q=").concat(t,"&quotesCount=10&newsCount=0"),{headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S.quoteSummary,"/").concat(t,"?modules=financialData"),{headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=n(7),I=function(e){var t=r.a.useState([]),n=Object(h.a)(t,2),a=n[0],c=n[1];return Object(T.jsx)(v.a,{id:"combo-box-demo",filterOptions:function(e){return e},value:e.symbol,style:{width:"200px"},options:a,getOptionLabel:function(e){return e},onInputChange:function(){var t=Object(l.a)(u.a.mark((function t(n,a,r){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("input"!==r){t.next=7;break}return t.next=3,q(a);case 3:void 0!==(s=t.sent)&&c(s.quotes.map((function(e){return e.symbol}))),t.next=8;break;case 7:"clear"===r&&(c([]),e.setSymbol(""));case 8:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),onClose:function(t,n){"select-option"===n&&e.setSymbol(t.target.textContent)},renderInput:function(e){return Object(T.jsx)(d.a,Object(y.a)(Object(y.a)({},e),{},{label:"Wertpapier",variant:"outlined"}))}})},N=function(e){var t=r.a.useState(new Date),n=Object(h.a)(t,2),a=n[0],c=n[1],s=r.a.useState(""),i=Object(h.a)(s,2),o=i[0],u=i[1],l=r.a.useState(1),j=Object(h.a)(l,2),y=j[0],v=j[1];return Object(T.jsx)(x.a,{utils:p.a,children:Object(T.jsxs)(b.a,{container:!0,justifyContent:"center",children:[Object(T.jsx)(O.a,{format:"dd.MM.yyyy",id:"date-picker-dialog",label:"Kaufzeitpunkt",inputVariant:"outlined",value:a,onChange:function(e,t){if(t){var n=Object(g.a)(t,"dd.MM.yyyy",new Date);!function(e){c(e)}(n<new Date?n:new Date)}},KeyboardButtonProps:{"aria-label":"change date"}}),Object(T.jsx)(I,{symbol:o,setSymbol:u}),Object(T.jsx)(d.a,{id:"standard-number",label:"Anzahl",type:"number",variant:"outlined",defaultValue:1,value:y,InputLabelProps:{shrink:!0},onChange:function(e){var t=Number(e.target.value);isNaN(t)||v(t)}}),Object(T.jsx)(m.a,{color:"primary","aria-label":"add",children:Object(T.jsx)(f.a,{onClick:function(){return e.returnShare(a,o,y)}})})]})})},P=n(175),F=n(160),E=n(172),B=n(173),U=n(167),z=n(168),A=n(174),J=n(164),R=n(162),V=n(171),H=n(179),K=n(169),W=n(170);function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(e.toFixed(t)," %")}var G=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}),Q=Object(J.a)({root:{"& > *":{borderBottom:"unset"}}}),Y=function(e){var t=r.a.useState(!1),n=Object(h.a)(t,2),a=n[0],c=n[1],s=Q(),i=e.row;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(U.a,{className:s.root,children:[Object(T.jsx)(z.a,{children:Object(T.jsx)(R.a,{"aria-label":"expand row",size:"small",onClick:function(){return c(!a)},children:a?Object(T.jsx)(K.a,{}):Object(T.jsx)(W.a,{})})}),Object(T.jsx)(z.a,{component:"th",scope:"row",children:i.name}),Object(T.jsx)(z.a,{align:"right",children:i.shareCount}),Object(T.jsx)(z.a,{align:"right",children:G.format(i.shareValue)}),Object(T.jsx)(z.a,{align:"right",children:G.format(i.closeToday)}),Object(T.jsx)(z.a,{align:"right",children:X(i.percentChangeToday)})]}),Object(T.jsx)(U.a,{children:Object(T.jsx)(z.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(T.jsx)(V.a,{in:a,timeout:"auto",unmountOnExit:!0,children:Object(T.jsx)(H.a,{margin:1,children:Object(T.jsxs)(E.a,{size:"small","aria-label":"purchases",children:[Object(T.jsx)(B.a,{children:Object(T.jsxs)(U.a,{children:[Object(T.jsx)(z.a,{children:"Datum"}),Object(T.jsx)(z.a,{children:"Menge"}),Object(T.jsx)(z.a,{align:"right",children:"Kaufpreis"})]})}),Object(T.jsx)(A.a,{children:i.rowPurchases.map((function(e){return Object(T.jsxs)(U.a,{children:[Object(T.jsx)(z.a,{component:"th",scope:"row",children:new Date(e.timeStamp).toLocaleDateString()}),Object(T.jsx)(z.a,{children:e.amount}),Object(T.jsx)(z.a,{align:"right",children:G.format(e.buyPrice)})]},e.timeStamp)}))})]})})})})})]})};function Z(e,t){var n=function(e,t){for(var n=e.length;n>=0;n--)if(e[n]<=t)return n;return 0}(t.timestamp,e/1e3);return t.indicators.quote[0].close[n]}var $=function(e){var t=void 0===e.chartDataList?[]:e.shares.map((function(t){return function(e,t){var n=e.symbol,a=t.find((function(t){return t.symbol===e.symbol})).res.chart.result[0],r=a.indicators.quote[0],c=r.close[r.close.length-1],s=r.open[r.open.length-1],i=(c-s)/s,o=e.purchases.map((function(e){return e.amount})).reduce((function(e,t){return e+t}));return{name:n,shareCount:o,closeToday:c,percentChangeToday:i,shareValue:o*c,rowPurchases:e.purchases.map((function(e){return{timeStamp:e.timeStamp,amount:e.amount,buyPrice:Z(e.timeStamp,a)}}))}}(t,e.chartDataList)}));return Object(T.jsx)(P.a,{component:F.a,children:Object(T.jsxs)(E.a,{"aria-label":"collapsible table",children:[Object(T.jsx)(B.a,{children:Object(T.jsxs)(U.a,{children:[Object(T.jsx)(z.a,{}),Object(T.jsx)(z.a,{children:"Aktie"}),Object(T.jsx)(z.a,{align:"right",children:"Menge"}),Object(T.jsx)(z.a,{align:"right",children:"Wert"}),Object(T.jsx)(z.a,{align:"right",children:"Preis"}),Object(T.jsx)(z.a,{align:"right",children:"Tages\xe4nderung"})]})}),Object(T.jsx)(A.a,{children:t.map((function(e){return Object(T.jsx)(Y,{row:e},e.name)}))})]})})},_=n.p+"static/media/stonks.6d058a2d.jpg";function ee(e){return Math.floor(e/1e3)}var te=function(){var e=r.a.useState(function(){var e=localStorage.getItem("nibeshares");return e?JSON.parse(e):[]}()),t=Object(h.a)(e,2),n=t[0],a=t[1],c=r.a.useState(),s=Object(h.a)(c,2),o=s[0],p=s[1];r.a.useEffect((function(){localStorage.setItem("nibeshares",JSON.stringify(n))}),[n]),r.a.useEffect((function(){if(void 0!==n){var e=[];(function(){var t=Object(l.a)(u.a.mark((function t(){var a,r,c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<n.length)){t.next=11;break}return r=Math.min.apply(null,n[a].purchases.map((function(e){return e.timeStamp}))),c=(new Date).getTime(),t.next=6,k(n[a].symbol,"1d",ee(r),ee(c));case 6:void 0!==(s=t.sent)&&e.push({symbol:n[a].symbol,res:s});case 8:a++,t.next=1;break;case 11:p(e);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}}),[n]);var d={width:"100%",height:"400px",backgroundImage:"url(".concat(_,")")};return Object(T.jsx)("div",{className:"App",children:Object(T.jsx)("header",{className:"App-header",style:d,children:Object(T.jsx)("section",{children:Object(T.jsx)(j.a,{maxWidth:"md",children:Object(T.jsxs)(b.a,{container:!0,style:{backgroundColor:"white",padding:20},children:[Object(T.jsx)(N,{returnShare:function(){var e=Object(l.a)(u.a.mark((function e(t,r,c){var s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,M(r);case 4:if(void 0!==(s=e.sent)&&s.quoteSummary.result!==[]&&null!==s.quoteSummary.result){e.next=7;break}return e.abrupt("return");case 7:void 0!==(o=n.find((function(e){return e.symbol.toUpperCase()===r.toUpperCase()})))?o.purchases.push({timeStamp:t.getTime(),amount:c}):n.push({symbol:r,purchases:[{timeStamp:t.getTime(),amount:c}]}),a(Object(i.a)(n));case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}),void 0!==o&&o.length===n.length&&Object(T.jsx)($,{shares:n,chartDataList:o})]})})})})})},ne=(n(127),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,185)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))});s.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(te,{})}),document.getElementById("root")),ne()}},[[128,1,2]]]);
//# sourceMappingURL=main.75edcf1f.chunk.js.map