(this.webpackJsonpstonks=this.webpackJsonpstonks||[]).push([[0],{120:function(e,t,n){},122:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(14),s=n.n(c),i=(n(120),n(94)),o=n(18),u=n.n(o),l=n(33),h=n(21);n(122);function j(e,t,n,r){return p.apply(this,arguments)}function p(){return(p=Object(l.a)(u.a.mark((function e(t,n,r,a){var c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://corsproxy.cloudno.de/https://query2.finance.yahoo.com/v8/finance/chart/".concat(t)+"?region=US&lang=en-US&interval=".concat(n,"&period1=").concat(r,"&period2=").concat(a),{headers:{"X-Requested-With":"XMLHttpRequest"}});case 2:if(!(c=e.sent).ok){e.next=8;break}return e.next=6,c.json();case 6:return s=e.sent,e.abrupt("return",s);case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return d.apply(this,arguments)}function d(){return(d=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://corsproxy.cloudno.de/https://query2.finance.yahoo.com/v1/finance/search"+"?q=".concat(t,"&quotesCount=10&newsCount=0"),{headers:{"X-Requested-With":"XMLHttpRequest"}});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return(m=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://corsproxy.cloudno.de/https://query2.finance.yahoo.com/v10/finance/quoteSummary/".concat(t)+"?modules=financialData",{headers:{"X-Requested-With":"XMLHttpRequest"}});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(123);var x=n(173),O=n(174),g=n(170),y=n(171),v=n(163),S=n(165),w=n(172),k=n(161),C=n(166),q=n(169),D=n(182),M=n(167),L=n(168),T=n(7);function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(e.toFixed(t)," %")}var P=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}),F=Object(k.a)({root:{"& > *":{borderBottom:"unset"}}}),I=function(e){var t=a.a.useState(!1),n=Object(h.a)(t,2),r=n[0],c=n[1],s=F(),i=e.row;return Object(T.jsxs)(a.a.Fragment,{children:[Object(T.jsxs)(v.a,{className:s.root,children:[Object(T.jsx)(S.a,{children:Object(T.jsx)(C.a,{"aria-label":"expand row",size:"small",onClick:function(){return c(!r)},children:r?Object(T.jsx)(M.a,{}):Object(T.jsx)(L.a,{})})}),Object(T.jsx)(S.a,{component:"th",scope:"row",children:i.name}),Object(T.jsx)(S.a,{align:"right",children:i.shareCount}),Object(T.jsx)(S.a,{align:"right",children:P.format(i.shareValue)}),Object(T.jsx)(S.a,{align:"right",children:P.format(i.closeToday)}),Object(T.jsx)(S.a,{align:"right",children:N(i.percentChangeToday)})]}),Object(T.jsx)(v.a,{children:Object(T.jsx)(S.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(T.jsx)(q.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(T.jsx)(D.a,{margin:1,children:Object(T.jsxs)(g.a,{size:"small","aria-label":"purchases",children:[Object(T.jsx)(y.a,{children:Object(T.jsxs)(v.a,{children:[Object(T.jsx)(S.a,{children:"Datum"}),Object(T.jsx)(S.a,{children:"Menge"}),Object(T.jsx)(S.a,{align:"right",children:"Kaufpreis"})]})}),Object(T.jsx)(w.a,{children:i.rowPurchases.map((function(e){return Object(T.jsxs)(v.a,{children:[Object(T.jsx)(S.a,{component:"th",scope:"row",children:new Date(e.timeStamp).toLocaleDateString()}),Object(T.jsx)(S.a,{children:e.amount}),Object(T.jsx)(S.a,{align:"right",children:P.format(e.buyPrice)})]},e.timeStamp)}))})]})})})})})]})};function R(e,t){var n=function(e,t){for(var n=e.length;n>=0;n--)if(e[n]<=t)return n;return 0}(t.timestamp,e/1e3);return t.indicators.quote[0].close[n]}var E=function(e){var t=void 0===e.chartDataList?[]:e.shares.map((function(t){return function(e,t){var n=e.symbol,r=t.find((function(t){return t.symbol===e.symbol})).res.chart.result[0],a=r.indicators.quote[0],c=a.close[a.close.length-1],s=a.open[a.open.length-1],i=(c-s)/s,o=e.purchases.map((function(e){return e.amount})).reduce((function(e,t){return e+t}));return{name:n,shareCount:o,closeToday:c,percentChangeToday:i,shareValue:o*c,rowPurchases:e.purchases.map((function(e){return{timeStamp:e.timeStamp,amount:e.amount,buyPrice:R(e.timeStamp,r)}}))}}(t,e.chartDataList)}));return Object(T.jsx)(x.a,{component:O.a,children:Object(T.jsxs)(g.a,{"aria-label":"collapsible table",children:[Object(T.jsx)(y.a,{children:Object(T.jsxs)(v.a,{children:[Object(T.jsx)(S.a,{}),Object(T.jsx)(S.a,{children:"Aktie"}),Object(T.jsx)(S.a,{align:"right",children:"Menge"}),Object(T.jsx)(S.a,{align:"right",children:"Wert"}),Object(T.jsx)(S.a,{align:"right",children:"Preis"}),Object(T.jsx)(S.a,{align:"right",children:"Tages\xe4nderung"})]})}),Object(T.jsx)(w.a,{children:t.map((function(e){return Object(T.jsx)(I,{row:e},e.name)}))})]})})},W=n(17),X=n(180),B=n(93),U=n(92),z=n(176),A=n(181),J=n(177),V=n(178),H=n(78),K=n(183),G=function(e){var t=a.a.useState([]),n=Object(h.a)(t,2),r=n[0],c=n[1];return Object(T.jsx)(K.a,{id:"combo-box-demo",filterOptions:function(e){return e},value:e.symbol,style:{width:"200px"},options:r,getOptionLabel:function(e){return e},onInputChange:function(){var t=Object(l.a)(u.a.mark((function t(n,r,a){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("input"!==a){t.next=7;break}return t.next=3,b(r);case 3:void 0!==(s=t.sent)&&c(s.quotes.map((function(e){return e.symbol}))),t.next=8;break;case 7:"clear"===a&&(c([]),e.setSymbol(""));case 8:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),onClose:function(t,n){"select-option"===n&&e.setSymbol(t.target.textContent)},renderInput:function(e){return Object(T.jsx)(A.a,Object(H.a)(Object(H.a)({},e),{},{label:"Wertpapier",variant:"outlined"}))}})},Q=function(e){var t=a.a.useState(new Date),n=Object(h.a)(t,2),r=n[0],c=n[1],s=a.a.useState(""),i=Object(h.a)(s,2),o=i[0],u=i[1],l=a.a.useState(1),j=Object(h.a)(l,2),p=j[0],b=j[1];return Object(T.jsx)(W.a,{utils:U.a,children:Object(T.jsxs)(z.a,{container:!0,justifyContent:"center",children:[Object(T.jsx)(X.a,{format:"dd.MM.yyyy",id:"date-picker-dialog",label:"Kaufzeitpunkt",inputVariant:"outlined",value:r,onChange:function(e,t){if(t){var n=Object(B.a)(t,"dd.MM.yyyy",new Date);!function(e){c(e)}(n<new Date?n:new Date)}},KeyboardButtonProps:{"aria-label":"change date"}}),Object(T.jsx)(G,{symbol:o,setSymbol:u}),Object(T.jsx)(A.a,{id:"standard-number",label:"Anzahl",type:"number",variant:"outlined",defaultValue:1,value:p,InputLabelProps:{shrink:!0},onChange:function(e){var t=Number(e.target.value);isNaN(t)||b(t)}}),Object(T.jsx)(J.a,{color:"primary","aria-label":"add",children:Object(T.jsx)(V.a,{onClick:function(){return e.returnShare(r,o,p)}})})]})})},Y=n(179);function Z(e){return Math.floor(e/1e3)}var $=function(){var e=a.a.useState(function(){var e=localStorage.getItem("nibeshares");return e?JSON.parse(e):[]}()),t=Object(h.a)(e,2),n=t[0],r=t[1],c=a.a.useState(),s=Object(h.a)(c,2),o=s[0],p=s[1];return a.a.useEffect((function(){localStorage.setItem("nibeshares",JSON.stringify(n))}),[n]),a.a.useEffect((function(){if(void 0!==n){var e=[];(function(){var t=Object(l.a)(u.a.mark((function t(){var r,a,c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return a=Math.min.apply(null,n[r].purchases.map((function(e){return e.timeStamp}))),c=(new Date).getTime(),t.next=6,j(n[r].symbol,"1d",Z(a),Z(c));case 6:void 0!==(s=t.sent)&&e.push({symbol:n[r].symbol,res:s});case 8:r++,t.next=1;break;case 11:p(e);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}}),[n]),Object(T.jsx)("div",{className:"App",children:Object(T.jsx)("header",{className:"App-header",children:Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(Y.a,{maxWidth:"md",children:Object(T.jsxs)(z.a,{container:!0,children:[Object(T.jsx)(Q,{returnShare:function(){var e=Object(l.a)(u.a.mark((function e(t,a,c){var s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,f(a);case 4:if(void 0!==(s=e.sent)&&s.quoteSummary.result!==[]&&null!==s.quoteSummary.result){e.next=7;break}return e.abrupt("return");case 7:void 0!==(o=n.find((function(e){return e.symbol.toUpperCase()===a.toUpperCase()})))?o.purchases.push({timeStamp:t.getTime(),amount:c}):n.push({symbol:a,purchases:[{timeStamp:t.getTime(),amount:c}]}),r(Object(i.a)(n));case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}),void 0!==o&&o.length===n.length&&Object(T.jsx)(E,{shares:n,chartDataList:o})]})})})})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,188)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)($,{})}),document.getElementById("root")),_()}},[[131,1,2]]]);
//# sourceMappingURL=main.2db1ed18.chunk.js.map